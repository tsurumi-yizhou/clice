import{_ as s,c as i,o as a,ae as n}from"./chunks/framework.l7bN90nj.js";const k=JSON.parse('{"title":"Extension","description":"","frontmatter":{},"headers":[],"relativePath":"fr/dev/extension.md","filePath":"fr/dev/extension.md"}'),l={name:"fr/dev/extension.md"};function t(o,e,d,p,c,h){return a(),i("div",null,[...e[0]||(e[0]=[n(`<h1 id="extension" tabindex="-1">Extension <a class="header-anchor" href="#extension" aria-label="Permalink to &quot;Extension&quot;">​</a></h1><p>Cette section couvre les flux de travail de développement et de publication pour les extensions d’éditeur (VSCode / Neovim / Zed).</p><h2 id="vscode" tabindex="-1">VSCode <a class="header-anchor" href="#vscode" aria-label="Permalink to &quot;VSCode&quot;">​</a></h2><p>L’extension VSCode utilise la chaîne d’outils Node/PNPM/VSCE. Travaillez dans l’environnement pixi <code>node</code> pour des versions cohérentes.</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># préparer l’environnement (installez pixi d’abord)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pixi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># installer les dépendances (utilise pnpm-lock)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pixi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install-vscode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># packager l’extension ; génère editors/vscode/*.vsix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pixi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build-vscode</span></span></code></pre></div><p>Publier sur le VSCode Marketplace (variable d’env <code>VSCE_PAT</code> requise) :</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pixi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish-vscode</span></span></code></pre></div><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>Si clice est déjà construit localement, définissez <code>clice.executable</code> dans les paramètres VSCode pour pointer l’extension vers votre binaire personnalisé.</p></div><p>Développement et débogage :</p><ol><li><code>pixi shell -e node</code></li><li>Dans <code>editors/vscode</code>, lancez <code>pnpm run watch</code> pour des constructions incrémentielles</li><li>Dans VSCode, utilisez les configurations “Run Extension/Launch Extension”, ou lancez <code>code --extensionDevelopmentPath=$(pwd)/editors/vscode</code></li></ol><p>Scripts courants (à l’intérieur de <code>pixi shell -e node</code>) :</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # identique à pixi run build-vscode</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # identique à pixi run publish-vscode</span></span></code></pre></div><p>Si vous n’utilisez pas pixi, installez Node.js &gt;= 20 et pnpm vous-même, puis dans <code>editors/vscode</code>, lancez :</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span></span></code></pre></div><h2 id="neovim" tabindex="-1">Neovim <a class="header-anchor" href="#neovim" aria-label="Permalink to &quot;Neovim&quot;">​</a></h2><p>L’extension Neovim se trouve dans <code>editors/nvim</code> et est écrite en Lua. Elle est toujours en cours d’évolution.</p><ul><li>Ajoutez le chemin du dépôt au <code>runtimepath</code>, par exemple : <code>set rtp+=/chemin/vers/clice/editors/nvim</code></li><li>Ou créez un lien symbolique local : <code>~/.config/nvim/pack/clice/start/clice</code> -&gt; <code>&lt;repo&gt;/editors/nvim</code></li><li>Assurez-vous que l’exécutable <code>clice</code> est accessible dans votre <code>$PATH</code></li></ul><p>Conseils de dév : le code est léger — chargez-le directement dans Neovim et surveillez les logs <code>:messages</code>/LSP ; formatez avec <code>stylua</code> (configuration incluse).</p><h2 id="zed" tabindex="-1">Zed <a class="header-anchor" href="#zed" aria-label="Permalink to &quot;Zed&quot;">​</a></h2><p>L’extension Zed se trouve dans <code>editors/zed</code> et utilise Rust ainsi que <code>zed_extension_api</code>.</p><p>Vérification locale suggérée :</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> editors/zed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cargo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --release</span></span></code></pre></div><p>Ensuite, chargez l’extension locale selon le guide officiel de Zed (CLI Zed requis). Assurez-vous que <code>clice</code> est dans le <code>PATH</code> avant le lancement. Suivez le flux de publication des extensions Zed lors de la sortie d’une version.</p>`,23)])])}const u=s(l,[["render",t]]);export{k as __pageData,u as default};
